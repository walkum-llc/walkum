{"version":3,"file":"f8f934da1175da2072d774401cf2b41f5e84b91c-bd28b71f52d9c9e572cd.js","mappings":"sKAMA,MAAMA,EAAoBC,IAA4B,IAA3B,EAAEC,EAAC,MAAEC,EAAK,QAAEC,GAASH,EAC9C,MAAMI,GAAUC,EAAAA,EAAAA,QAAO,OACjB,EAACC,EAAI,EAACC,IAAUC,EAAAA,EAAAA,UAAS,OAE/BC,EAAAA,EAAAA,kBAAgB,KACd,GAAIL,EAAQM,QAAS,CACnB,MAAMC,EAAIP,EAAQM,QAAQE,UAC1BL,EAAOI,EACT,IACC,CAACT,IAKJ,OACEW,EAAAA,cAAA,KACEC,UAAS,aAAeb,EAAC,OACzBc,UClBiB,sCDmBjBZ,QAASA,EACTa,KAAK,SACLC,SAAU,EACVC,UAAYC,IACI,UAAVA,EAAEC,KAA6B,MAAVD,EAAEC,MACzBD,EAAEE,iBACFlB,IACF,GAGDG,GACCO,EAAAA,cAAA,QACEZ,EAAGK,EAAIL,EAnBE,GAoBTqB,EAAGhB,EAAIgB,EAnBE,GAoBTC,MAAOjB,EAAIiB,MAAQC,GACnBC,OAAQnB,EAAImB,OAASC,GACrBC,GAAG,KACHZ,UCnCuB,kDDuC3BF,EAAAA,cAAA,QACEe,IAAKxB,EACLyB,KAAK,QACLC,WAAW,UACXC,SAAS,OACTC,iBAAiB,SACjBC,WAAW,SACXC,cAAc,QAEbhC,GAED,EAwER,MApE0BiC,IAMnB,IANoB,SACzBC,EAAW,SAAQ,WACnBC,EAAa,IAAG,UAChBC,EAAS,YACTC,EAAc,IAAG,YACjBC,EAAc,WACfL,EACC,MAAM,EAACM,EAAW,EAACC,IAAiBlC,EAAAA,EAAAA,UAASmC,KACvCC,GAAcC,EAAAA,EAAAA,KAAaC,GAAUA,EAAMC,QAAQH,cAEzD,SAASD,IACP,OAAoB,IAAbK,KAAKC,SAA2B,GACzC,CAUA,OARAC,EAAAA,EAAAA,YAAU,KACR,MAAMC,EAAWC,aAAY,KAC3BV,EAAcC,IAAsB,GACnC,KAEH,MAAO,IAAMU,cAAcF,EAAS,GACnC,IAEEP,EAGH/B,EAAAA,cAAA,OAAKyC,MAAO,CAAEC,QAAS,OAAQC,eAAgB,WAC7C3C,EAAAA,cAAA,OAAKE,UCnFkB,6CDoFrBF,EAAAA,cAAA,OACE4C,MAAM,6BACNC,QAAQ,eACR3C,UCtFiB,0CDuFjB4C,oBAAoB,iBAEpB9C,EAAAA,cAAA,KAAGC,UAAU,sBAAsBmB,WAAW,UAE5CpB,EAAAA,cAACd,EAAiB,CAChBE,GAAI,IACJC,MAAOkC,EACPjC,QAASA,KAAMyD,EAAAA,EAAAA,IAASvB,KAI1BxB,EAAAA,cAAA,QACEZ,EAAE,IACF4B,KAAMW,EACNV,WAAW,UACXC,SAAS,OACT8B,WAAW,OACX9C,UC1Gc,2CD2GduC,MAAO,CAAEQ,kBAAsBrB,EAAU,MACzCP,cAAc,QACf,KAKDrB,EAAAA,cAACd,EAAiB,CAChBE,EAAG,IACHC,MAAOoC,EACPnC,QAASA,KAAMyD,EAAAA,EAAAA,IAASrB,SArCX,IA0CjB,C,qjBEnGV,MAvBwBvC,IAAA,IAAC,SAAE+D,EAAQ,MAAEC,EAAK,WAAEC,EAAU,WAAEC,GAAYlE,EAAA,OAChEa,EAAAA,cAAA,WACIA,EAAAA,cAAA,UACIV,QAAUgB,IACNA,EAAEgD,kBACFF,GAAY,GAGnB,KAGDpD,EAAAA,cAAA,YAAM,MAAIkD,EAAS,OACnBlD,EAAAA,cAAA,UACIV,QAAUgB,IACNA,EAAEgD,kBACFD,GAAY,GAEnB,KAGC,ECrBC,EAAO,6BACPE,EAAW,iCACXC,EAAY,kCACZC,EAAmB,yCACnBC,EAAsB,4CACtB,EAAW,iCACXC,EAAiB,uCAGjBC,EAAM,4BACNC,EAAmB,yCAGnBC,EAAa,mCACb,EAAO,6BAEPC,EAAY,kCACZC,EAAW,iCAEXC,EAAY,kCACZC,EAAQ,8BACRC,EAAe,qCACfC,EAAgB,sCAEhBC,EAAM,4BCgCjB,MA/CalF,IAAgD,IAA/C,KAAEmF,EAAI,KAAEC,EAAI,SAAEC,EAAQ,gBAAEC,GAAiBtF,EAEnD,MAAMuF,GAAe1C,EAAAA,EAAAA,IAAY2C,EAAAA,IAC3BC,EAAYC,GAAON,EAAKO,MAAMC,GAAaA,EAASF,KAAOA,IAC3D3B,EAAW0B,EAASN,EAAKO,IAAMN,EAAKS,MAAMD,GAAaA,EAASF,KAAOP,EAAKO,KAAI3B,SAAW,EAE3F+B,EAAgBC,IAClBA,EAAM5B,kBACNkB,GAASW,EAAAA,EAAAA,IAAiBb,GAAM,EAG9Bc,EAAwBlC,IAC1BsB,GAASa,EAAAA,EAAAA,IAAmB,CAAER,GAAIP,EAAKO,GAAI3B,aAAY,EAG3D,OACIlD,EAAAA,cAAA,OAAKE,UAAWoF,EAAahG,QAASA,IAAMmF,EAAgBH,IACxDtE,EAAAA,cAAA,OAAKuF,IAAKjB,EAAKkB,MAAOC,IAAKnB,EAAKoB,KAAMxF,UAAWoF,IACjDtF,EAAAA,cAAA,UAAKsE,EAAKoB,MACV1F,EAAAA,cAAA,SAAIsE,EAAKqB,aACT3F,EAAAA,cAAA,SAAG,IAAEsE,EAAKsB,OACTlB,EACG1E,EAAAA,cAAA,WACIA,EAAAA,cAAA,SAAG,gBAAcsE,EAAKnB,OACrByB,EAASN,EAAKO,IACX7E,EAAAA,cAAA,UAAQV,QAAS2F,EAAc/E,UAAWoF,GAAqB,oBAI/DtF,EAAAA,cAAA,UAAQV,QAAS2F,EAAcY,SAAUvB,EAAKnB,OAAS,GAAG,eAI7DyB,EAASN,EAAKO,KACX7E,EAAAA,cAAC8F,EAAe,CACZ5C,SAAUA,EACVC,MAAOmB,EAAKnB,MACZC,WAAYA,IAAMgC,EAAqBjD,KAAK4D,IAAI,EAAG7C,EAAW,IAC9DG,WAAYA,IAAM+B,EAAqBjD,KAAK6D,IAAI1B,EAAKnB,MAAOD,EAAW,OAInF,KACF,ECOd,MAxDgB/D,IAST,IATU,QACb8G,EAAO,MACPC,EAAK,SACLC,EAAQ,YACRC,EAAW,eACXC,EAAc,gBACd5B,EAAe,KACfF,EAAI,SACJC,GACHrF,EAmBG,OACIa,EAAAA,cAAA,OAAKE,UAAWoF,EAAAA,SACXW,GACGjG,EAAAA,cAAA,MACI6E,GAAE,WAAaoB,EACf/F,UAAWoF,EACXhG,QAxBMgH,KAClB,MAAMC,GACFH,aAAW,EAAXA,EAAaD,YAAaA,IAAYC,aAAW,EAAXA,EAAaH,WAAYA,EACzD,KACA,CAAEE,WAAUF,WACtBI,EAAeE,GAGXA,GACAC,YAAW,KACP,MAAMC,EAAiBC,SAASC,eAAe,WAAWV,GACtDQ,GACAA,EAAeG,eAAe,CAAEC,SAAU,SAAUC,MAAO,SAC/D,GACD,EACP,GAWab,IAGPG,aAAW,EAAXA,EAAaD,YAAaA,IAAYC,aAAW,EAAXA,EAAaH,WAAYA,IAAaA,EAC1EjG,EAAAA,cAAA,OAAKE,UAAWoF,GACXY,EAAMa,KAAKzC,GACRtE,EAAAA,cAACgH,EAAI,CACDzG,IAAK+D,EAAKO,GACVP,KAAMA,EACNC,KAAMA,EACNC,SAAUA,EACVC,gBAAiBA,OAI7B,KACF,ECSd,MA7DiBtF,IAUV,IAVW,SACdgH,EAAQ,iBACRc,EAAgB,aAChBC,EAAY,gBACZC,EAAe,YACff,EAAW,eACXC,EAAc,gBACd5B,EAAe,KACfF,EAAI,SACJC,GACHrF,EAqBG,OACIa,EAAAA,cAAA,OAAKE,UAAWoF,GACZtF,EAAAA,cAAA,MACI6E,GAAE,YAAcsB,EAChBjG,UAAWoF,EACXhG,QAzBW8H,KACnB,MAAMC,EAAcH,IAAiBf,EAAW,KAAOA,EACvDgB,EAAgBE,GAGXA,GACDhB,EAAe,MAIfgB,GACAb,YAAW,KACP,MAAMc,EAAkBZ,SAASC,eAAe,YAAYR,GACxDmB,GACAA,EAAgBV,eAAe,CAAEC,SAAU,SAAUC,MAAO,SAChE,GACD,EACP,GAUSX,GAEJe,IAAiBf,GACdnG,EAAAA,cAAA,OAAKE,UAAWoF,EAAAA,aACXiC,MAAMC,KAAKP,EAAiBQ,WAAWV,KAAIzF,IAAA,IAAE2E,EAASC,GAAM5E,EAAA,OACzDtB,EAAAA,cAAC0H,EAAO,CACJnH,IAAK0F,EACLA,QAASA,EACTC,MAAOA,EACPC,SAAUA,EACVC,YAAaA,EACbC,eAAgBA,EAChB5B,gBAAiBA,EACjBF,KAAMA,EACNC,SAAUA,GACZ,KAIZ,ECPd,MA9CiBmD,KACb,MAAMnD,GAAWoD,EAAAA,EAAAA,MACXrD,GAAOvC,EAAAA,EAAAA,IAAY6F,EAAAA,IACnBC,GAAa9F,EAAAA,EAAAA,KAAaC,GAAUA,EAAM8F,aAAaD,aACvDE,GAAWC,EAAAA,EAAAA,eAGXC,EAAe,IAAIC,IACzBL,EAAWM,SAAS9D,IACX4D,EAAaG,IAAI/D,EAAK6B,WACvB+B,EAAaI,IAAIhE,EAAK6B,SAAU,IAAIgC,KAExC,MAAMlB,EAAmBiB,EAAaK,IAAIjE,EAAK6B,UAC1Cc,EAAiBoB,IAAI/D,EAAK2B,UAC3BgB,EAAiBqB,IAAIhE,EAAK2B,QAAS,IAEvCgB,EAAiBsB,IAAIjE,EAAK2B,SAASuC,KAAKlE,EAAK,IAGjD,MAAM,EAAC4C,EAAa,EAACC,IAAmBxH,EAAAA,EAAAA,UAAS,OAC3C,EAACyG,EAAY,EAACC,IAAkB1G,EAAAA,EAAAA,UAAS,MAEzC8E,EAAmBH,KACrBvB,EAAAA,EAAAA,IAAYiF,EAASS,SAAQ,SAASnE,EAAKO,GAAK,EAGpD,OACI7E,EAAAA,cAAA,OAAKE,UAAWoF,EAAAA,mBACXiC,MAAMC,KAAKU,EAAaT,WAAWV,KAAI5H,IAAA,IAAEgH,EAAUc,GAAiB9H,EAAA,OACjEa,EAAAA,cAAC0I,EAAQ,CACLnI,IAAK4F,EACLA,SAAUA,EACVc,iBAAkBA,EAClBC,aAAcA,EACdC,gBAAiBA,EACjBf,YAAaA,EACbC,eAAgBA,EAChB5B,gBAAiBA,EACjBF,KAAMA,EACNC,SAAUA,GACZ,IAEJ,E,UCad,MA7DyBrF,IAAkD,IAAjD,KAAEoF,EAAI,UAAEoE,EAAS,UAAEC,EAAS,YAAEC,GAAa1J,EACjE,MAAM2J,GAAoBtJ,EAAAA,EAAAA,SAAO,IAEjC6C,EAAAA,EAAAA,YAAU,KAON,GAAIyG,EAAkBjJ,QAElB,YADAkJ,QAAQC,IAAI,6DAIhB,MAAMC,EAASvC,SAASwC,cAAc,UAGhCC,EAAW,gBAAgBC,KAAKC,UAAUC,WA8BhD,OAxBAL,EAAO1D,IAASgE,2CAA8BC,mBAAmBC,CAAAA,EAAYC,kBAAqC,gGAA+FP,EAAW,+BAAiC,IAE7PF,EAAOU,OAAQ,EAEfV,EAAOW,OAAS,KACRC,OAAOC,QAAUnB,EAAU9I,SAC3BiJ,EAAkBjJ,SAAU,EAC5BgK,OAAOC,OAAOC,QAAQ,CAClBtH,MAAO,CACHuH,MAAO,OACPC,OAAQ,WACRC,MAAO,OACP7K,MAAO,OAEXwJ,cACAD,cACDuB,OAAOxB,EAAU9I,UAEpBkJ,QAAQqB,MAAM,kCAClB,EAGJ1D,SAAS2D,KAAKC,YAAYrB,GAEnB,KACCH,EAAkBjJ,UAClBkJ,QAAQC,IAAI,+BACZF,EAAkBjJ,SAAU,GAG5B6G,SAAS2D,KAAKE,SAAStB,IACvBvC,SAAS2D,KAAKG,YAAYvB,EAC9B,CACH,GACF,CAAC1E,EAAMoE,EAAWE,EAAaD,GAAW,ECwBjD,MA9EqBzJ,IAAe,IAAd,KAAEoF,GAAMpF,EAC1B,MAAMqF,GAAWoD,EAAAA,EAAAA,MACXe,GAAYnJ,EAAAA,EAAAA,QAAO,MAEnBiL,EAAWhB,CAAAA,EAAYiB,UACvBC,EAAOlB,CAAAA,EAAYmB,KAEnBC,GAAgB7I,EAAAA,EAAAA,KAAaC,GAAUA,EAAMC,QAAQH,YAAY+I,QAkEvE,OAFAC,EAAiB,CAAExG,OAAMoE,YAAWE,YA9DhBc,MAAOqB,EAAMC,KAC7B,IACwB1G,EAAK2G,QACrB,CAACC,EAAK7G,IAAS6G,EAAMC,WAAW9G,EAAKsB,OAAStB,EAAKpB,UACnD,GACFmI,QAAQ,GAHV,MAKMC,QAAiBC,MAAM,WAAWd,EAAQ,IAAIE,EAAI,cAAe,CACnEa,OAAQ,OACRC,QAAS,CACL,eAAgB,mBAChB,OAAU5B,OAAO7B,SAAS0D,QAE9BrB,KAAMsB,KAAKC,UAAU,CAAErH,WAGrBsH,QAAkBP,EAASQ,OAGjC,GAFA/C,QAAQC,IAAI,wBAAyB6C,GAEjCA,EAAUhH,GACV,OAAOgH,EAAUhH,GAErB,MAAM,IAAIkH,MAAM,yBACpB,CAAE,MAAO3B,GAEL,MADArB,QAAQqB,MAAM,qBAAsBA,GAC9B,IAAI2B,MAAM,qCACpB,GAoC6CnD,UAjC/Be,MAAOqB,EAAMC,KAC3B,IAAK,IAADe,EAAAC,EAAAC,EAAAC,EACA,MAAMb,QAAiBC,MAAM,WACdd,EAAQ,IAAIE,EAAI,eAAeK,EAAKoB,QAAO,WACtD,CACIZ,OAAQ,OACRC,QAAS,CACL,eAAgB,mBAChB,OAAU5B,OAAO7B,SAAS0D,QAE9BrB,KAAMsB,KAAKC,UAAU,CAAErH,OAAMsG,oBAI/BgB,QAAkBP,EAASQ,OAGjC,GAFA/C,QAAQC,IAAI,sBAAuB6C,GAE/BA,SAAyB,QAAhBG,EAATH,EAAWQ,sBAAc,IAAAL,GAAK,QAALC,EAAzBD,EAA4B,UAAE,IAAAC,GAAU,QAAVC,EAA9BD,EAAgCK,gBAAQ,IAAAJ,GAAU,QAAVC,EAAxCD,EAA0CK,gBAAQ,IAAAJ,IAAlDA,EAAqD,GAOrD,MAAM,IAAIJ,MAAM,kBAPyC,CAAC,IAADS,EAAAC,EAAAC,EAAAC,EACzD,MAAMC,EACFf,SAAyB,QAAhBW,EAATX,EAAWQ,sBAAc,IAAAG,GAAK,QAALC,EAAzBD,EAA4B,UAAE,IAAAC,GAAU,QAAVC,EAA9BD,EAAgCH,gBAAQ,IAAAI,GAAU,QAAVC,EAAxCD,EAA0CH,gBAAQ,IAAAI,OAAzC,EAATA,EAAqD,GACzD5D,QAAQC,IAAI,yBAA0B4D,GAEtCpI,GAASqI,EAAAA,EAAAA,MACb,CAGJ,CAAE,MAAOzC,GACLrB,QAAQqB,MAAM,mBAAoBA,GAClC0C,MAAM,kDACV,KAOA9M,EAAAA,cAAA,OAAKe,IAAK4H,GAAiB,ECiBnC,MApFiBoE,KACb,MAAMvI,GAAWoD,EAAAA,EAAAA,MACXrD,GAAOvC,EAAAA,EAAAA,IAAY6F,EAAAA,IACnBnD,GAAe1C,EAAAA,EAAAA,IAAY2C,EAAAA,IAE3BS,EAAuBA,CAACd,EAAMpB,KAChC,MAAM8J,EAAc7K,KAAK4D,IAAI,EAAG5D,KAAK6D,IAAI9C,EAAUoB,EAAKnB,QACxDqB,GAASa,EAAAA,EAAAA,IAAmB,CAAER,GAAIP,EAAKO,GAAI3B,SAAU8J,IAAe,EAOxE,OAAItI,GAAkBH,GAAwB,IAAhBA,EAAK0I,OAQ9BvI,EAGD1E,EAAAA,cAAA,OAAKE,UAAWoF,GACZtF,EAAAA,cAAA,WACAA,EAAAA,cAAA,SAAOE,UAAWoF,GACdtF,EAAAA,cAAA,aACIA,EAAAA,cAAA,UACIA,EAAAA,cAAA,UAAI,QACJA,EAAAA,cAAA,MAAIE,UAAWoF,GAAc,YAC7BtF,EAAAA,cAAA,MAAIE,UAAWoF,GAAY,SAC3BtF,EAAAA,cAAA,MAAIE,UAAWoF,GAAY,OAGnCtF,EAAAA,cAAA,aACKuE,EAAKwC,KAAI,CAACzC,EAAM4I,KACb,MAAMtH,EAAQuH,OAAO7I,EAAKsB,QAAU,EAC9B1C,EAAWiK,OAAO7I,EAAKpB,WAAa,EACpCkK,EAAQxH,EAAQ1C,EAEtB,OACIlD,EAAAA,cAAA,MAAIO,IAAK2M,GACLlN,EAAAA,cAAA,MAAIE,UAAWmN,EAAAA,IACV/I,EAAKoB,MAAQ,eAAe1F,EAAAA,cAAA,WAC7BA,EAAAA,cAAA,QAAME,UAAWoF,GAAkB,IAAEM,EAAMyF,QAAQ,KAEvDrL,EAAAA,cAAA,UACIA,EAAAA,cAAC8F,EAAe,CACZ5C,SAAUA,EACVC,MAAOmB,EAAKnB,MACZC,WAAYA,IAAMgC,EAAqBd,EAAMnC,KAAK4D,IAAI,EAAG7C,EAAW,IACpEG,WAAYA,IAAM+B,EAAqBd,EAAMnC,KAAK6D,IAAI1B,EAAKnB,MAAOD,EAAW,OAGrFlD,EAAAA,cAAA,MAAIE,UAAWoF,GAAY,IAAE8H,EAAM/B,QAAQ,IAC3CrL,EAAAA,cAAA,UACIA,EAAAA,cAAA,UACIV,QAASA,IAjDnBgF,KACtBE,GAASW,EAAAA,EAAAA,IAAiBb,GAAM,EAgDegJ,CAAiBhJ,GAChCpE,UAAWoF,GACd,MAIJ,MAKrBtF,EAAAA,cAAA,MAAIE,UAAWoF,GAAmB,iBAE7Bf,EAAK2G,QACF,CAACkC,EAAO9I,IACJ8I,GAASD,OAAO7I,EAAKsB,QAAU,IAAMuH,OAAO7I,EAAKpB,WAAa,IAClE,GACFmI,QAAQ,IAGdrL,EAAAA,cAACuN,EAAa,CAAChJ,KAAMA,KAzDH,KANlBvE,EAAAA,cAAA,OAAKE,UAAWoF,GACZtF,EAAAA,cAAA,SAAG,sBA+DL,E,oBChBd,MAjEkBb,IAAwB,IAAvB,KAAEmF,EAAI,QAAEkJ,GAASrO,EAEhC,MAAMqF,GAAWoD,EAAAA,EAAAA,MACXrD,GAAOvC,EAAAA,EAAAA,IAAY6F,EAAAA,IACnBnD,GAAe1C,EAAAA,EAAAA,IAAY2C,EAAAA,IAC3BC,EAAYC,GAAON,EAAKO,MAAMC,GAAaA,EAASF,KAAOA,IAC3D3B,EAAW0B,EAASN,EAAKO,IAAMN,EAAKS,MAAMD,GAAaA,EAASF,KAAOP,EAAKO,KAAI3B,SAAW,EAE3F+B,EAAgBC,IAClBA,EAAM5B,kBACNkB,GAASW,EAAAA,EAAAA,IAAiBb,GAAM,EAG9Bc,EAAwBlC,IAC1BsB,GAASa,EAAAA,EAAAA,IAAmB,CAAER,GAAIP,EAAKO,GAAI3B,aAAY,EAgB3D,OAbAb,EAAAA,EAAAA,YAAU,KACN,MAAMoL,EAAiBvI,IACD,WAAdA,EAAM3E,KACNiN,GACJ,EAIJ,OADA9G,SAASgH,iBAAiB,UAAWD,GAC9B,KACH/G,SAASiH,oBAAoB,UAAWF,EAAc,CACzD,GACF,CAACD,IAGAxN,EAAAA,cAAA,OAAKE,UCvCa,qCDuCmBZ,QAASkO,GAC1CxN,EAAAA,cAAA,OAAKE,UC1CS,qCD0CuBZ,QAAUgB,GAAMA,EAAEgD,mBACnDtD,EAAAA,cAAA,UAAQE,UC5CC,oCD4C8BZ,QAASkO,GAAS,KACzDxN,EAAAA,cAAA,UAAKsE,EAAKoB,MACV1F,EAAAA,cAAA,OAAKuF,IAAKjB,EAAKkB,MAAOC,IAAKnB,EAAKoB,KAAMxF,UC5C9B,qCD6CRF,EAAAA,cAAA,SAAIsE,EAAKqB,aACT3F,EAAAA,cAAA,SAAG,IAAEsE,EAAKsB,OACTlB,EACG1E,EAAAA,cAAA,WACIA,EAAAA,cAAA,SAAG,gBAAcsE,EAAKnB,OACrByB,EAASN,EAAKO,IACX7E,EAAAA,cAAA,UAAQV,QAAS2F,EAAc/E,UAAWmN,GAA0B,oBAIpErN,EAAAA,cAAA,UAAQV,QAAS2F,EAAcY,SAAUvB,EAAKnB,OAAS,GAAG,eAI7DyB,EAASN,EAAKO,KACX7E,EAAAA,cAAC8F,EAAe,CACZ5C,SAAUA,EACVC,MAAOmB,EAAKnB,MACZC,WAAYA,IAAMgC,EAAqBjD,KAAK4D,IAAI,EAAG7C,EAAW,IAC9DG,WAAYA,IAAM+B,EAAqBjD,KAAK6D,IAAI1B,EAAKnB,MAAOD,EAAW,OAInF,MAEN,E,oBE0Cd,MA7FiB/D,IAGV,IAHW,aACduF,GAAe,EAAI,cACnBkJ,EAAa,YAChBzO,EACG,MAAMqF,GAAWoD,EAAAA,EAAAA,MACXiG,GAAgB7L,EAAAA,EAAAA,IAAY8L,EAAAA,IAC5BvJ,GAAOvC,EAAAA,EAAAA,IAAY6F,EAAAA,IACnBkG,GAAa/L,EAAAA,EAAAA,KAAaC,GAAUA,EAAMC,QAAQ8L,UAClDjM,GAAcC,EAAAA,EAAAA,KAAaC,GAAUA,EAAMC,QAAQH,cACnDiG,GAAWC,EAAAA,EAAAA,gBAEX,QAAEgG,EAAO,MAAE7D,EAAOY,KAAMkD,IAAaC,EAAAA,EAAAA,GAAQ,CAC/CC,cAAeL,EACfM,UAAWT,KAGfvL,EAAAA,EAAAA,YAAU,KACD4L,GAAY7D,IAAS8D,IACtB1J,GAAS8J,EAAAA,EAAAA,IAAiBJ,IAC1B1J,GAAS+J,EAAAA,EAAAA,OACb,GACD,CAACN,EAAS7D,EAAO8D,EAAU1J,KAE9BnC,EAAAA,EAAAA,YAAU,KACNmC,GAASgK,EAAAA,EAAAA,IAAgB9J,GAAc,GACxC,CAACA,EAAcF,IAElB,MAKMiK,EADc,IAAIC,gBAAkC,oBAAX7E,OAAyBA,OAAO7B,SAAS2G,OAAS,IAC9DpG,IAAI,QAGjCqG,GADa5M,EAAAA,EAAAA,KAAaC,GAAUA,EAAM8F,aAAaD,aAC7B9C,MAAMV,GAASA,EAAKO,KAAO4J,IAM3D,GAAIR,EAAS,OAAOjO,EAAAA,cAAC6O,EAAAA,EAAO,MAC5B,GAAIzE,EAAO,OAAOpK,EAAAA,cAAA,SAAG,8BAA4BoK,GAGjD,MAAM0E,EAAiBvK,GAAQA,EAAK0I,OAAS,GAAKvI,EAElD,OACI1E,EAAAA,cAAA,WACIA,EAAAA,cAAA,OAAKE,UAAWmN,EAAAA,IAER3I,EACI1E,EAAAA,cAAC+O,EAAAA,EAAiB,CACdxN,SAAUQ,EAAY2D,KAEtBjE,UAAWM,EAAYiN,WACvBrN,YAAY,YAGhB3B,EAAAA,cAAC+O,EAAAA,EAAiB,CACdtN,UAAU,OACVE,YAAY,YAIvBmN,GACG9O,EAAAA,cAAA,UAAQE,UAAWoF,EAAyBhG,QAvCnC2P,KACrBzK,GAAS0K,EAAAA,EAAAA,MAAiB,GAuCTrB,EACG7N,EAAAA,cAAA,OAAKE,UAAWoF,GACZtF,EAAAA,cAAA,YAAM,QACNA,EAAAA,cAAA,QAAME,UAAWoF,EAAiBnF,KAAK,MAAM,aAAW,QAAQ,OAGpEH,EAAAA,cAAA,OAAKE,UAAWoF,GACZtF,EAAAA,cAAA,YAAM,aACNA,EAAAA,cAAA,QAAME,UAAWoF,EAAiBnF,KAAK,MAAM,aAAW,QAAQ,QAK/E0N,GAAiB7N,EAAAA,cAACmP,EAAY,OAEnCnP,EAAAA,cAAA,OAAKE,UAAWoF,EAAAA,mBACZtF,EAAAA,cAACoP,EAAU,OAEfpP,EAAAA,cAAA,OAAKE,UAAWmN,EAAAA,IACZrN,EAAAA,cAACqP,EAAAA,EAAM,OAEVT,GAAgB5O,EAAAA,cAACsP,EAAS,CAAChL,KAAMsK,EAAcpB,QAnDrC+B,MACfxM,EAAAA,EAAAA,IAAS,GAAGiF,EAASS,SAAW,IAmD1B,C","sources":["webpack://walkum/./src/components/links/modularHeaderLink.js","webpack://walkum/./src/components/links/headerLink.module.css","webpack://walkum/./src/components/merchant/QuantityControl.js","webpack://walkum/./src/components/merchant/styles.module.css","webpack://walkum/./src/components/merchant/storeItems/Item.js","webpack://walkum/./src/components/merchant/storeItems/Section.js","webpack://walkum/./src/components/merchant/storeItems/Category.js","webpack://walkum/./src/components/merchant/storeItems/index.js","webpack://walkum/./src/components/merchant/checkout/usePaypalButtons.js","webpack://walkum/./src/components/merchant/checkout/index.js","webpack://walkum/./src/components/merchant/cart.js","webpack://walkum/./src/components/merchant/storeItems/ItemModal.js","webpack://walkum/./src/components/merchant/storeItems/styles.module.css","webpack://walkum/./src/components/merchant/index.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useLayoutEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { navigate } from \"gatsby\";\nimport * as styles from \"./headerLink.module.css\";\n\n/* Auto-sizing SVG button based on text width */\nconst AutoSizeSvgButton = ({ x, label, onClick }) => {\n  const textRef = useRef(null);\n  const [box, setBox] = useState(null);\n\n  useLayoutEffect(() => {\n    if (textRef.current) {\n      const b = textRef.current.getBBox();\n      setBox(b);\n    }\n  }, [label]);\n\n  const paddingX = 30;\n  const paddingY = 18;\n\n  return (\n    <g\n      transform={`translate(${x}, 0)`}\n      className={styles.svgButton}\n      onClick={onClick}\n      role=\"button\"\n      tabIndex={0}\n      onKeyDown={(e) => {\n        if (e.key === \"Enter\" || e.key === \" \") {\n          e.preventDefault();\n          onClick();\n        }\n      }}\n    >\n      {box && (\n        <rect\n          x={box.x - paddingX}\n          y={box.y - paddingY}\n          width={box.width + paddingX * 2}\n          height={box.height + paddingY * 2}\n          rx=\"10\"\n          className={styles.svgButtonBackground}\n        />\n      )}\n\n      <text\n        ref={textRef}\n        fill=\"white\"\n        fontFamily=\"Courier\"\n        fontSize=\"90px\"\n        dominantBaseline=\"middle\"\n        textAnchor=\"middle\"\n        pointerEvents=\"none\"\n      >\n        {label}\n      </text>\n    </g>\n  );\n};\n\nconst ModularHeaderLink = ({\n  leftWord = \"walkum\",\n  leftLinkTo = \"/\",\n  rightWord,\n  rightLinkTo = \".\",\n  cursorColor = \"#FFD700\",\n}) => {\n  const [blinkSpeed, setBlinkSpeed] = useState(getRandomBlinkSpeed());\n  const accountInfo = useSelector((state) => state.account.accountInfo);\n\n  function getRandomBlinkSpeed() {\n    return Math.random() * (3000 - 1000) + 1000;\n  }\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setBlinkSpeed(getRandomBlinkSpeed());\n    }, 5000);\n\n    return () => clearInterval(interval);\n  }, []);\n\n  if (!accountInfo) return null;\n\n  return (\n    <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n      <div className={styles.phraseContainer}>\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 1200 300\"\n          className={styles.responsiveSvg}\n          preserveAspectRatio=\"xMidYMid meet\"\n        >\n          <g transform=\"translate(600, 150)\" textAnchor=\"middle\">\n            {/* LEFT BUTTON */}\n            <AutoSizeSvgButton\n              x={-300}\n              label={leftWord}\n              onClick={() => navigate(leftLinkTo)}\n            />\n\n            {/* CURSOR */}\n            <text\n              x=\"0\"\n              fill={cursorColor}\n              fontFamily=\"Courier\"\n              fontSize=\"90px\"\n              fontWeight=\"bold\"\n              className={styles.blinkingCursor}\n              style={{ animationDuration: `${blinkSpeed}ms` }}\n              pointerEvents=\"none\"\n            >\n              |\n            </text>\n\n            {/* RIGHT BUTTON */}\n            <AutoSizeSvgButton\n              x={300}\n              label={rightWord}\n              onClick={() => navigate(rightLinkTo)}\n            />\n          </g>\n        </svg>\n      </div>\n    </div>\n  );\n};\n\nexport default ModularHeaderLink;\n","// extracted by mini-css-extract-plugin\nexport var blink = \"headerLink-module--blink--bdfec\";\nexport var blinkingCursor = \"headerLink-module--blinkingCursor--59495\";\nexport var phraseContainer = \"headerLink-module--phraseContainer--9d1b4\";\nexport var responsiveSvg = \"headerLink-module--responsiveSvg--e821b\";\nexport var svgButton = \"headerLink-module--svgButton--d9016\";\nexport var svgButtonBackground = \"headerLink-module--svgButtonBackground--ccdb9\";","import React from \"react\";\n\nconst QuantityControl = ({ quantity, stock, onDecrease, onIncrease }) => (\n    <div>\n        <button\n            onClick={(e) => {\n                e.stopPropagation();\n                onDecrease();\n            }}\n\n        >\n            -\n        </button>\n        <span>   {quantity}   </span>\n        <button\n            onClick={(e) => {\n                e.stopPropagation();\n                onIncrease();\n            }}\n        >\n            +\n        </button>\n    </div>\n);\n\nexport default QuantityControl;\n","// extracted by mini-css-extract-plugin\nexport var cart = \"styles-module--cart--d7a47\";\nexport var cartIcon = \"styles-module--cartIcon--8a034\";\nexport var cartTable = \"styles-module--cartTable--d19e3\";\nexport var cartToggleButton = \"styles-module--cartToggleButton--c057a\";\nexport var cartToggleContainer = \"styles-module--cartToggleContainer--edce5\";\nexport var category = \"styles-module--category--8436a\";\nexport var categoryHeader = \"styles-module--categoryHeader--16eb4\";\nexport var categorySection = \"styles-module--categorySection--f1108\";\nexport var closeButton = \"styles-module--closeButton--5a3f6\";\nexport var del = \"styles-module--del--281ce\";\nexport var emptyCartMessage = \"styles-module--emptyCartMessage--fe4f3\";\nexport var fullScreenImage = \"styles-module--fullScreenImage--10982\";\nexport var fullScreenModal = \"styles-module--fullScreenModal--07a3c\";\nexport var grandTotal = \"styles-module--grandTotal--7e4b2\";\nexport var item = \"styles-module--item--2b47c\";\nexport var itemBackground = \"styles-module--itemBackground--30ce9\";\nexport var itemImage = \"styles-module--itemImage--d83f7\";\nexport var itemList = \"styles-module--itemList--6f49f\";\nexport var modalContent = \"styles-module--modalContent--0a097\";\nexport var priceEach = \"styles-module--priceEach--04a90\";\nexport var quant = \"styles-module--quant--b5a04\";\nexport var removeButton = \"styles-module--removeButton--45abe\";\nexport var sectionHeader = \"styles-module--sectionHeader--6846b\";\nexport var toggleIcon = \"styles-module--toggleIcon--84634\";\nexport var tot = \"styles-module--tot--d3a80\";","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport QuantityControl from \"../QuantityControl\";\nimport * as styles from \"../styles.module.css\";\nimport {\n    toggleItemInCart,\n    updateItemQuantity,\n    getMerchantMode,\n} from \"../../../state/merchantSlice\";\n\nconst Item = ({ item, cart, dispatch, handleItemClick }) => {\n\n    const merchantMode = useSelector(getMerchantMode);\n    const isInCart = (id) => cart.some((cartItem) => cartItem.id === id);\n    const quantity = isInCart(item.id) ? cart.find((cartItem) => cartItem.id === item.id).quantity : 1;\n\n    const handleToggle = (event) => {\n        event.stopPropagation(); // Prevent triggering the item click\n        dispatch(toggleItemInCart(item));\n    };\n\n    const handleQuantityChange = (quantity) => {\n        dispatch(updateItemQuantity({ id: item.id, quantity }));\n    };\n\n    return (\n        <div className={styles.item} onClick={() => handleItemClick(item)}>\n            <img src={item.image} alt={item.name} className={styles.itemImage} />\n            <h3>{item.name}</h3>\n            <p>{item.description}</p>\n            <p>${item.price}</p>\n            {merchantMode ? (\n                <div>\n                    <p># Remaining: {item.stock}</p>\n                    {isInCart(item.id) ? (\n                        <button onClick={handleToggle} className={styles.removeButton}>\n                            Remove from Cart\n                        </button>\n                    ) : (\n                        <button onClick={handleToggle} disabled={item.stock <= 0}>\n                            Add to Cart\n                        </button>\n                    )}\n                    {isInCart(item.id) && (\n                        <QuantityControl\n                            quantity={quantity}\n                            stock={item.stock}\n                            onDecrease={() => handleQuantityChange(Math.max(1, quantity - 1))}\n                            onIncrease={() => handleQuantityChange(Math.min(item.stock, quantity + 1))}\n                        />\n                    )}\n                </div>\n            ) : null}\n        </div>\n    );\n};\n\nexport default Item;\n","import React from \"react\";\nimport Item from \"./Item\";\nimport * as styles from \"../styles.module.css\";\n\nconst Section = ({\n    section,\n    items,\n    category,\n    openSection,\n    setOpenSection,\n    handleItemClick,\n    cart,\n    dispatch,\n}) => {\n    const toggleSection = () => {\n        const newSection =\n            openSection?.category === category && openSection?.section === section\n                ? null\n                : { category, section };\n        setOpenSection(newSection);\n\n        // Scroll the section header into view\n        if (newSection) {\n            setTimeout(() => {\n                const sectionElement = document.getElementById(`section-${section}`);\n                if (sectionElement) {\n                    sectionElement.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\n                }\n            }, 0);\n        }\n    };\n\n    return (\n        <div className={styles.section}>\n            {section && (\n                <h3\n                    id={`section-${section}`}\n                    className={styles.sectionHeader}\n                    onClick={toggleSection}\n                >\n                    {section}\n                </h3>\n            )}\n            {(openSection?.category === category && openSection?.section === section) || !section ? (\n                <div className={styles.itemList}>\n                    {items.map((item) => (\n                        <Item\n                            key={item.id}\n                            item={item}\n                            cart={cart}\n                            dispatch={dispatch}\n                            handleItemClick={handleItemClick}\n                        />\n                    ))}\n                </div>\n            ) : null}\n        </div>\n    );\n};\n\nexport default Section;\n","import React from \"react\";\nimport Section from \"./Section\";\nimport * as styles from \"../styles.module.css\";\n\nconst Category = ({\n    category,\n    categorySections,\n    openCategory,\n    setOpenCategory,\n    openSection,\n    setOpenSection,\n    handleItemClick,\n    cart,\n    dispatch,\n}) => {\n    const toggleCategory = () => {\n        const newCategory = openCategory === category ? null : category;\n        setOpenCategory(newCategory);\n\n        // Collapse all sections if the category is closed\n        if (!newCategory) {\n            setOpenSection(null);\n        }\n\n        // Scroll the category header into view\n        if (newCategory) {\n            setTimeout(() => {\n                const categoryElement = document.getElementById(`category-${category}`);\n                if (categoryElement) {\n                    categoryElement.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\n                }\n            }, 0);\n        }\n    };\n\n    return (\n        <div className={styles.category}>\n            <h2\n                id={`category-${category}`}\n                className={styles.categoryHeader}\n                onClick={toggleCategory}\n            >\n                {category}\n            </h2>\n            {openCategory === category && (\n                <div className={styles.sectionList}>\n                    {Array.from(categorySections.entries()).map(([section, items]) => (\n                        <Section\n                            key={section}\n                            section={section}\n                            items={items}\n                            category={category}\n                            openSection={openSection}\n                            setOpenSection={setOpenSection}\n                            handleItemClick={handleItemClick}\n                            cart={cart}\n                            dispatch={dispatch}\n                        />\n                    ))}\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default Category;\n","import React, { useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { toggleItemInCart, updateItemQuantity, selectCart } from \"../../../state/merchantSlice\";\nimport { navigate } from \"gatsby\";\nimport { useLocation } from \"@reach/router\";\nimport Category from \"./Category\";\nimport * as styles from \"../styles.module.css\";\n\nconst ItemList = () => {\n    const dispatch = useDispatch();\n    const cart = useSelector(selectCart);\n    const storeItems = useSelector((state) => state.merchantShop.storeItems);\n    const location = useLocation();\n\n    // Group items by category and section\n    const groupedItems = new Map();\n    storeItems.forEach((item) => {\n        if (!groupedItems.has(item.category)) {\n            groupedItems.set(item.category, new Map());\n        }\n        const categorySections = groupedItems.get(item.category);\n        if (!categorySections.has(item.section)) {\n            categorySections.set(item.section, []);\n        }\n        categorySections.get(item.section).push(item);\n    });\n\n    const [openCategory, setOpenCategory] = useState(null);\n    const [openSection, setOpenSection] = useState(null);\n\n    const handleItemClick = (item) => {\n        navigate(`${location.pathname}?item=${item.id}`);\n    };\n\n    return (\n        <div className={styles.itemListContainer}>\n            {Array.from(groupedItems.entries()).map(([category, categorySections]) => (\n                <Category\n                    key={category}\n                    category={category}\n                    categorySections={categorySections}\n                    openCategory={openCategory}\n                    setOpenCategory={setOpenCategory}\n                    openSection={openSection}\n                    setOpenSection={setOpenSection}\n                    handleItemClick={handleItemClick}\n                    cart={cart}\n                    dispatch={dispatch}\n                />\n            ))}\n        </div>\n    );\n};\n\nexport default ItemList;\n","import { useEffect, useRef } from \"react\";\n\nconst usePaypalButtons = ({ cart, paypalRef, onApprove, createOrder }) => {\n    const paypalRenderedRef = useRef(false);\n\n    useEffect(() => {\n        if (process.env.NODE_ENV === 'development') console.log(\"\\nEnvironment Variables:\", {\n            PAYPAL_CLIENT_ID: process.env.PAYPAL_CLIENT_ID ? \"***\" : undefined,\n            SERVER_IP: process.env.SERVER_IP,\n            PORT: process.env.PORT,\n        });\n\n        if (paypalRenderedRef.current) {\n            console.log(\"PayPal buttons already rendered. Skipping initialization.\");\n            return;\n        }\n\n        const script = document.createElement(\"script\");\n\n        // Check if the user is on a mobile device\n        const isMobile = /Mobi|Android/i.test(navigator.userAgent);\n\n        let paypalEnv = process.env.NODE_ENV === 'production' ? 'https://www.paypal.com' : 'https://www.sandbox.paypal.com';\n        let buyerCountryParam = process.env.NODE_ENV !== 'production' ? '&buyer-country=US' : '';\n\n        // Set script.src with shared parameters\n        script.src = `${paypalEnv}/sdk/js?client-id=${encodeURIComponent(process.env.PAYPAL_CLIENT_ID)}${buyerCountryParam}&currency=USD&components=buttons&enable-funding=paypal,venmo,card&commit=true&intent=capture${isMobile ? '&integration-date=2021-02-01' : ''}`;\n\n        script.async = true;\n\n        script.onload = () => {\n            if (window.paypal && paypalRef.current) {\n                paypalRenderedRef.current = true;\n                window.paypal.Buttons({\n                    style: {\n                        shape: \"pill\",\n                        layout: \"vertical\",\n                        color: \"blue\",\n                        label: \"pay\",\n                    },\n                    createOrder,\n                    onApprove,\n                }).render(paypalRef.current);\n            } else {\n                console.error(\"PayPal SDK not loaded properly.\");\n            }\n        };\n\n        document.body.appendChild(script);\n\n        return () => {\n            if (paypalRenderedRef.current) {\n                console.log(\"Cleaning up PayPal buttons.\");\n                paypalRenderedRef.current = false;\n            }\n\n            if (document.body.contains(script)) {\n                document.body.removeChild(script);\n            }\n        };\n    }, [cart, paypalRef, createOrder, onApprove]);\n};\n\nexport default usePaypalButtons;\n","import React, { useRef } from \"react\";\nimport { clearCart } from \"../../../state/merchantSlice\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport * as styles from \"./index.module.css\";\nimport usePaypalButtons from \"./usePaypalButtons\";\n\nconst PaypalButton = ({ cart }) => {\n    const dispatch = useDispatch();\n    const paypalRef = useRef(null);\n\n    const serverIP = process.env.SERVER_IP;\n    const port = process.env.PORT;\n\n    const merchantEmail = useSelector((state) => state.account.accountInfo.email);\n\n    const createOrder = async (data, actions) => {\n        try {\n            const totalAmount = cart.reduce(\n                (sum, item) => sum + parseFloat(item.price) * item.quantity,\n                0\n            ).toFixed(2);\n\n            const response = await fetch(`https://${serverIP}:${port}/api/orders`, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Origin\": window.location.origin, // Include Origin header\n                },\n                body: JSON.stringify({ cart }),\n            });\n\n            const orderData = await response.json();\n            console.log(\"createOrder Response:\", orderData);\n\n            if (orderData.id) {\n                return orderData.id;\n            }\n            throw new Error(\"Failed to create order\");\n        } catch (error) {\n            console.error(\"createOrder Error:\", error);\n            throw new Error(\"Could not initiate PayPal Checkout\");\n        }\n    };\n\n    const onApprove = async (data, actions) => {\n        try {\n            const response = await fetch(\n                `https://${serverIP}:${port}/api/orders/${data.orderID}/capture`,\n                {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\",\n                        \"Origin\": window.location.origin, // Include Origin header\n                    },\n                    body: JSON.stringify({ cart, merchantEmail }),\n                }\n            );\n\n            const orderData = await response.json();\n            console.log(\"onApprove Response:\", orderData);\n\n            if (orderData?.purchase_units?.[0]?.payments?.captures?.[0]) {\n                const transaction =\n                    orderData?.purchase_units?.[0]?.payments?.captures?.[0];\n                console.log(\"Transaction completed:\", transaction);\n\n                dispatch(clearCart());\n            } else {\n                throw new Error(\"Capture failed\");\n            }\n        } catch (error) {\n            console.error(\"onApprove Error:\", error);\n            alert(\"Sorry, your transaction could not be processed.\");\n        }\n    };\n\n    // Initialize PayPal buttons\n    usePaypalButtons({ cart, paypalRef, createOrder, onApprove });\n\n    return (\n        <div ref={paypalRef}></div>\n    );\n};\n\nexport default PaypalButton;\n","import * as styles from \"./styles.module.css\";\nimport * as otherstyles from \"../../styles/index.module.css\";\nimport React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n    selectCart,\n    updateItemQuantity,\n    toggleItemInCart,\n    getMerchantMode,\n} from '../../state/merchantSlice';\nimport PayPalButtons from \"./checkout\";\nimport QuantityControl from \"./QuantityControl\";\n\nconst ViewCart = () => {\n    const dispatch = useDispatch();\n    const cart = useSelector(selectCart);\n    const merchantMode = useSelector(getMerchantMode);\n\n    const handleQuantityChange = (item, quantity) => {\n        const newQuantity = Math.max(1, Math.min(quantity, item.stock)); // Limit between 1 and stock\n        dispatch(updateItemQuantity({ id: item.id, quantity: newQuantity }));\n    };\n\n    const handleRemoveItem = (item) => {\n        dispatch(toggleItemInCart(item)); // Use toggle to remove item\n    };\n\n    if (merchantMode && (!cart || cart.length === 0)) {\n        return (\n            <div className={styles.emptyCartMessage}>\n                <p>Your cart is empty</p>\n            </div>\n        );\n    }\n\n    if (!merchantMode) return null\n\n    return (\n        <div className={styles.cart}>\n            <br />\n            <table className={styles.cartTable}>\n                <thead>\n                    <tr>\n                        <th>Item</th>\n                        <th className={styles.quant}>Quantity</th>\n                        <th className={styles.tot}>Total</th>\n                        <th className={styles.del}>X</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {cart.map((item, index) => {\n                        const price = Number(item.price) || 0;\n                        const quantity = Number(item.quantity) || 0;\n                        const total = price * quantity;\n\n                        return (\n                            <tr key={index}>\n                                <td className={otherstyles.center}>\n                                    {item.name || \"Unnamed Item\"}<br />\n                                    <span className={styles.priceEach}>${price.toFixed(2)}</span>\n                                </td>\n                                <td>\n                                    <QuantityControl\n                                        quantity={quantity}\n                                        stock={item.stock}\n                                        onDecrease={() => handleQuantityChange(item, Math.max(1, quantity - 1))}\n                                        onIncrease={() => handleQuantityChange(item, Math.min(item.stock, quantity + 1))}\n                                        />\n                                </td>\n                                <td className={styles.tot}>${total.toFixed(2)}</td>\n                                <td>\n                                    <button\n                                        onClick={() => handleRemoveItem(item)}\n                                        className={styles.removeButton}\n                                    >\n                                        X\n                                    </button>\n                                </td>\n                            </tr>\n                        );\n                    })}\n                </tbody>\n            </table>\n            <h3 className={styles.grandTotal}>\n                Grand Total: $\n                {cart.reduce(\n                    (total, item) =>\n                        total + (Number(item.price) || 0) * (Number(item.quantity) || 0),\n                    0\n                ).toFixed(2)}\n            </h3>\n\n            <PayPalButtons cart={cart} />\n        </div>\n    );\n};\n\nexport default ViewCart;\n","import React, { useEffect } from \"react\";\nimport QuantityControl from \"../QuantityControl\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport * as styles from \"./styles.module.css\";\nimport * as otherstyles from \"../styles.module.css\";\nimport {\n    toggleItemInCart,\n    updateItemQuantity,\n    selectCart,\n    getMerchantMode,\n} from \"../../../state/merchantSlice\";\n\nconst ItemModal = ({ item, onClose }) => {\n\n    const dispatch = useDispatch();\n    const cart = useSelector(selectCart);\n    const merchantMode = useSelector(getMerchantMode);\n    const isInCart = (id) => cart.some((cartItem) => cartItem.id === id);\n    const quantity = isInCart(item.id) ? cart.find((cartItem) => cartItem.id === item.id).quantity : 1;\n\n    const handleToggle = (event) => {\n        event.stopPropagation(); // Prevent triggering the item click\n        dispatch(toggleItemInCart(item));\n    };\n\n    const handleQuantityChange = (quantity) => {\n        dispatch(updateItemQuantity({ id: item.id, quantity }));\n    };\n\n    useEffect(() => {\n        const handleKeyDown = (event) => {\n            if (event.key === \"Escape\") {\n                onClose();\n            }\n        };\n\n        document.addEventListener(\"keydown\", handleKeyDown);\n        return () => {\n            document.removeEventListener(\"keydown\", handleKeyDown);\n        };\n    }, [onClose]);\n\n    return (\n        <div className={styles.modalOverlay} onClick={onClose}>\n            <div className={styles.modalContent} onClick={(e) => e.stopPropagation()}>\n                <button className={styles.closeButton} onClick={onClose}>âœ•</button>\n                <h2>{item.name}</h2>\n                <img src={item.image} alt={item.name} className={styles.modalImage} />\n                <p>{item.description}</p>\n                <p>${item.price}</p>\n                {merchantMode ? (\n                    <div>\n                        <p># Remaining: {item.stock}</p>\n                        {isInCart(item.id) ? (\n                            <button onClick={handleToggle} className={otherstyles.removeButton}>\n                                Remove from Cart\n                            </button>\n                        ) : (\n                            <button onClick={handleToggle} disabled={item.stock <= 0}>\n                                Add to Cart\n                            </button>\n                        )}\n                        {isInCart(item.id) && (\n                            <QuantityControl\n                                quantity={quantity}\n                                stock={item.stock}\n                                onDecrease={() => handleQuantityChange(Math.max(1, quantity - 1))}\n                                onIncrease={() => handleQuantityChange(Math.min(item.stock, quantity + 1))}\n                            />\n                        )}\n                    </div>\n                ) : null}\n            </div>\n        </div>\n    );\n};\n\nexport default ItemModal;\n","// extracted by mini-css-extract-plugin\nexport var closeButton = \"styles-module--closeButton--f0cbb\";\nexport var modalContent = \"styles-module--modalContent--8b217\";\nexport var modalImage = \"styles-module--modalImage--9c189\";\nexport var modalOverlay = \"styles-module--modalOverlay--c4284\";","import React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport StoreItems from './storeItems';\nimport ShoppingCart from './cart';\nimport Footer from '../footer';\nimport ModularHeaderLink from \"../links/modularHeaderLink\";\nimport { navigate } from \"gatsby\";\nimport { useLocation } from \"@reach/router\";\nimport ItemModal from \"./storeItems/ItemModal\";\nimport {\n    toggleCartView,\n    selectCartVisibility,\n    updateStoreItems,\n    cleanCart,\n    selectCart,\n    setMerchantMode,\n} from '../../state/merchantSlice';\nimport * as styles from \"./styles.module.css\";\nimport Loading from \"../loading\";\nimport * as otherstyles from \"../../styles/index.module.css\";\nimport { useMenu } from \"../../spreadsheet/useSheet\";\n\nconst Merchant = ({\n    merchantMode = true,\n    merchantSheet = `products`,\n}) => {\n    const dispatch = useDispatch();\n    const isCartVisible = useSelector(selectCartVisibility);\n    const cart = useSelector(selectCart);\n    const merchantID = useSelector((state) => state.account.sheetID)\n    const accountInfo = useSelector((state) => state.account.accountInfo);\n    const location = useLocation();\n\n    const { loading, error, data: menuData } = useMenu({\n        spreadsheetId: merchantID,\n        sheetName: merchantSheet,\n    });\n\n    useEffect(() => {\n        if (!loading && !error && menuData) {\n            dispatch(updateStoreItems(menuData));\n            dispatch(cleanCart()); // Validate cart after store items update\n        }\n    }, [loading, error, menuData, dispatch]);\n\n    useEffect(() => {\n        dispatch(setMerchantMode(merchantMode));\n    }, [merchantMode, dispatch]);\n\n    const handleToggleCart = () => {\n        dispatch(toggleCartView());\n    };\n\n    const queryParams = new URLSearchParams(typeof window !== \"undefined\" ? window.location.search : \"\");\n    const selectedItemID = queryParams.get(\"item\");\n\n    const storeItems = useSelector((state) => state.merchantShop.storeItems);\n    const selectedItem = storeItems.find((item) => item.id === selectedItemID);\n\n    const closeModal = () => {\n        navigate(`${location.pathname}`);\n    };\n\n    if (loading) return <Loading />;\n    if (error) return <p>Error loading store items: {error}</p>;\n\n    // Only render the cart button and toggle if there are items in the cart and if in merchantMode\n    const showCartButton = cart && cart.length > 0 && merchantMode;\n\n    return (\n        <div>\n            <div className={otherstyles.container}>\n                {\n                    merchantMode ? (\n                        <ModularHeaderLink\n                            leftWord={accountInfo.name}\n                            // leftLinkTo=\".\"\n                            rightWord={accountInfo.merchTitle}\n                            cursorColor=\"#39FF14\"\n                        />\n                    ) : (\n                        <ModularHeaderLink\n                            rightWord=\"eats\"\n                            cursorColor=\"#39FF14\"\n                        />\n                    )\n                }\n                {showCartButton && (\n                    <button className={styles.cartToggleButton} onClick={handleToggleCart}>\n                        {isCartVisible ? (\n                            <div className={styles.cartToggleContainer}>\n                                <span>Hide</span>\n                                <span className={styles.cartIcon} role=\"img\" aria-label=\"cart\">{'\\u{1F6D2}'}</span>\n                            </div>\n                        ) : (\n                            <div className={styles.cartToggleContainer}>\n                                <span>Your Cart</span>\n                                <span className={styles.cartIcon} role=\"img\" aria-label=\"cart\">{'\\u{1F6D2}'}</span>\n                            </div>\n                        )}\n                    </button>\n                )}\n                {isCartVisible && <ShoppingCart />}\n            </div>\n            <div className={styles.itemListContainer}>\n                <StoreItems />\n            </div>\n            <div className={otherstyles.container}>\n                <Footer />\n            </div>\n            {selectedItem && <ItemModal item={selectedItem} onClose={closeModal} />}\n        </div>\n    );\n};\n\nexport default Merchant;\n"],"names":["AutoSizeSvgButton","_ref","x","label","onClick","textRef","useRef","box","setBox","useState","useLayoutEffect","current","b","getBBox","React","transform","className","role","tabIndex","onKeyDown","e","key","preventDefault","y","width","paddingX","height","paddingY","rx","ref","fill","fontFamily","fontSize","dominantBaseline","textAnchor","pointerEvents","_ref2","leftWord","leftLinkTo","rightWord","rightLinkTo","cursorColor","blinkSpeed","setBlinkSpeed","getRandomBlinkSpeed","accountInfo","useSelector","state","account","Math","random","useEffect","interval","setInterval","clearInterval","style","display","justifyContent","xmlns","viewBox","preserveAspectRatio","navigate","fontWeight","animationDuration","quantity","stock","onDecrease","onIncrease","stopPropagation","cartIcon","cartTable","cartToggleButton","cartToggleContainer","categoryHeader","del","emptyCartMessage","grandTotal","itemImage","itemList","priceEach","quant","removeButton","sectionHeader","tot","item","cart","dispatch","handleItemClick","merchantMode","getMerchantMode","isInCart","id","some","cartItem","find","handleToggle","event","toggleItemInCart","handleQuantityChange","updateItemQuantity","styles","src","image","alt","name","description","price","disabled","QuantityControl","max","min","section","items","category","openSection","setOpenSection","toggleSection","newSection","setTimeout","sectionElement","document","getElementById","scrollIntoView","behavior","block","map","Item","categorySections","openCategory","setOpenCategory","toggleCategory","newCategory","categoryElement","Array","from","entries","Section","ItemList","useDispatch","selectCart","storeItems","merchantShop","location","useLocation","groupedItems","Map","forEach","has","set","get","push","pathname","Category","paypalRef","onApprove","createOrder","paypalRenderedRef","console","log","script","createElement","isMobile","test","navigator","userAgent","paypalEnv","encodeURIComponent","process","PAYPAL_CLIENT_ID","async","onload","window","paypal","Buttons","shape","layout","color","render","error","body","appendChild","contains","removeChild","serverIP","SERVER_IP","port","PORT","merchantEmail","email","usePaypalButtons","data","actions","reduce","sum","parseFloat","toFixed","response","fetch","method","headers","origin","JSON","stringify","orderData","json","Error","_orderData$purchase_u","_orderData$purchase_u2","_orderData$purchase_u3","_orderData$purchase_u4","orderID","purchase_units","payments","captures","_orderData$purchase_u5","_orderData$purchase_u6","_orderData$purchase_u7","_orderData$purchase_u8","transaction","clearCart","alert","ViewCart","newQuantity","length","index","Number","total","otherstyles","handleRemoveItem","PayPalButtons","onClose","handleKeyDown","addEventListener","removeEventListener","merchantSheet","isCartVisible","selectCartVisibility","merchantID","sheetID","loading","menuData","useMenu","spreadsheetId","sheetName","updateStoreItems","cleanCart","setMerchantMode","selectedItemID","URLSearchParams","search","selectedItem","Loading","showCartButton","ModularHeaderLink","merchTitle","handleToggleCart","toggleCartView","ShoppingCart","StoreItems","Footer","ItemModal","closeModal"],"sourceRoot":""}